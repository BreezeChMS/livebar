<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <title>Livebar for Churches</title>
    <meta property="og:title" content="Livebar for Churches" />
    <meta
      name="description"
      content="Livebar is an insanely easy-to-install (and free) banner for your church website, helping your members know where to go for weekend services in the age of the coronavirus."
    />
    <meta
      property="og:description"
      content="Livebar is an insanely easy-to-install (and free) banner for your church website, helping your members know where to go for weekend services in the age of the coronavirus."
    />
    <meta
      property="og:image"
      content="https://livebar.church/images/livebar-social.jpg"
    />
    <meta property="og:url" content="https://livebar.church" />
    <meta name="twitter:card" content="summary_large_image" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />

    <!-- Favicons -->
    <meta name="theme-color" content="#5D4DD6" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <link rel="manifest" href="site.webmanifest" />

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      footer {
        background: #f9f9f9;
      }

      h1 {
        font-weight: 700;
        font-size: 90px;
      }

      .purple {
        color: #5d4dd6;
      }

      .pink {
        color: #e83e8c;
      }

      a {
        color: #5d4dd6;
      }

      .btn-primary:link,
      .btn-primary:hover,
      .btn-primary:active,
      .btn-primary:visited {
        background: #006fba !important;
        border: 0px;
      }

      .tab {
        margin-left: 40px;
      }

      .lead.subtitle {
        border-bottom: 1px solid #ddd;
        padding-bottom: 40px;
      }

      .feature-text {
        text-align: left;
        font-size: 20px;
        color: #333;
      }

      .feature-image {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 5px;
        max-width: 350px;
      }

      code {
        border: 1px solid #eee;
        padding: 15px;
        border-radius: 5px;
        min-height: 400px;
      }

      code.simple {
        border: 0px solid #eee;
        padding: 0px;
        border-radius: 0px;
        min-height: 0px;
      }

      #looksLikeThis {
        width: 200px;
        float: right;
        margin-right: 20px;
      }

      .footer-text {
        margin-top: 10px;
        display: inline-block;
        font-size: 25px;
        padding: 40px 0px;
      }

      .footer-text img {
        margin-top: -10px;
        margin-left: 4px;
        height: 30px;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      @media only screen and (max-width: 800px) {
        h1 {
          font-size: 50px;
        }

        #looksLikeThis {
          width: 100%;
          float: none;
          margin: 30px 0px -30px 0px;
        }
      }
    </style>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-161738697-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'UA-161738697-1');
    </script>
  </head>
  <body class="d-flex flex-column h-100">
    <!-- Begin page content -->
    <main role="main" class="flex-shrink-0">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xl-3 text-center order-xl-12">
            <div id="looksLikeThis" class="mt-3">
              <div style="font-size: 50px; color: #006fba">
                <i class="fas fa-arrow-up"></i>
              </div>
              <div
                style="
                  margin-top: 0px;
                  margin-left: 0px;
                  display: inline-block;
                  font-size: 20px;
                  transform: rotate(-3deg);
                  color: #000;
                "
              >
                <b>livebar</b> looks like this!
              </div>
            </div>
          </div>
          <div class="col-xl-6 order-xl-6">
            <h1 class="mt-5 text-center">livebar.church</h1>
            <p
              class="lead subtitle text-center"
              style="width: 100%; max-width: 800px; margin: 0px auto"
            >
              Livebar is an insanely easy-to-install (and free) banner for your
              church website, helping your members know where to go for weekend
              services in the age of the coronavirus.
            </p>
          </div>
          <div class="col-xl-3 order-xl-1"></div>
        </div>
      </div>

      <div class="container">
        <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-5">
            <h5 class="mt-5">
              1. Configure livebar with the options you'd like.
            </h5>
            <form>
              <div class="d-flex flex-row">
                <div class="form-group flex-fill">
                  <label for="date-time">Service/Livestream Time</label>
                  <select class="form-control" id="date-time">
                    <option value="0-7-0">Sundays at 7am</option>
                    <option value="0-7-15">Sundays at 7:15am</option>
                    <option value="0-7-30">Sundays at 7:30am</option>
                    <option value="0-7-45">Sundays at 7:45am</option>
                    <option value="0-8-0">Sundays at 8am</option>
                    <option value="0-8-15">Sundays at 8:15am</option>
                    <option value="0-8-30">Sundays at 8:30am</option>
                    <option value="0-8-45">Sundays at 8:45am</option>
                    <option value="0-9-0" selected>Sundays at 9am</option>
                    <option value="0-9-15">Sundays at 9:15am</option>
                    <option value="0-9-30">Sundays at 9:30am</option>
                    <option value="0-9-45">Sundays at 9:45am</option>
                    <option value="0-10-0">Sundays at 10am</option>
                    <option value="0-10-15">Sundays at 10:15am</option>
                    <option value="0-10-30">Sundays at 10:30am</option>
                    <option value="0-10-45">Sundays at 10:45am</option>
                    <option value="0-11-0">Sundays at 11am</option>
                    <option value="0-11-15">Sundays at 11:15am</option>
                    <option value="0-11-30">Sundays at 11:30am</option>
                  </select>
                </div>

                <div class="form-group flex-fill ml-3">
                  <label for="duration">Service Duration</label>
                  <select class="form-control" id="duration">
                    <option value="5">5 Minutes</option>
                    <option value="10">10 Minutes</option>
                    <option value="15">15 Minutes</option>
                    <option value="20">20 Minutes</option>
                    <option value="25">25 Minutes</option>
                    <option value="30">30 Minutes</option>
                    <option value="35">35 Minutes</option>
                    <option value="40" selected>40 Minutes</option>
                    <option value="45">45 Minutes</option>
                    <option value="50">50 Minutes</option>
                    <option value="55">55 Minutes</option>
                    <option value="60">60 Minutes</option>
                    <option value="65">65 Minutes</option>
                    <option value="70">70 Minutes</option>
                    <option value="75">75 Minutes</option>
                    <option value="80">80 Minutes</option>
                    <option value="85">85 Minutes</option>
                    <option value="90">90 Minutes</option>
                  </select>
                </div>
              </div>

              <div id="service_container"></div>

              <a href="#" class="btn btn-link btn-block mt-3" id="add_service"
                ><i class="fas fa-plus"></i> Add Another Service</a
              >

              <div class="form-group">
                <label for="layout">Layout</label>
                <select class="form-control" id="layout">
                  <option value="header">Header Bar</option>
                  <option value="sidebar">Sidebar Widget</option>
                </select>
              </div>

              <div class="form-group">
                <label for="dismissable">Dismissable</label>
                <select class="form-control" id="dismissable">
                  <option value="no">No, users cannot close Livebar</option>
                  <option value="yes">Yes, users can close Livebar</option>
                </select>
              </div>

              <div class="form-group">
                <label for="message">Message in Bar</label>
                <input
                  type="text"
                  class="form-control"
                  id="message"
                  value="Join us online this Sunday live at 9am!"
                />
              </div>

              <div class="form-group">
                <label for="url">Web address you want people to watch at</label>
                <input
                  type="text"
                  class="form-control"
                  id="url"
                  placeholder="https://www.facebook.com/my-church-page"
                />
                <small class="form-text text-muted">
                  This is the website where you want people to go when clicking
                  on the "Watch Live" button. It could be your church Facebook
                  page, a Youtube channel, a Zoom link, or wherever you'd like.
                </small>
              </div>

              <div class="form-group">
                <label for="exampleFormControlInput1">Specify Colors</label>

                <div>
                  <input
                    type="color"
                    id="background-color"
                    name="head"
                    value="#006FBA"
                  />
                  <label for="exampleFormControlSelect1"
                    >Background Color</label
                  >
                </div>

                <div>
                  <input
                    type="color"
                    id="button-color"
                    name="head"
                    value="#003462"
                  />
                  <label for="exampleFormControlSelect1">Button</label>
                </div>

                <div>
                  <input
                    type="color"
                    id="text-color"
                    name="head"
                    value="#ffffff"
                  />
                  <label for="exampleFormControlSelect1">Text</label>
                </div>

                <div>
                  <input
                    type="color"
                    id="button-text-color"
                    name="head"
                    value="#ffffff"
                  />
                  <label for="exampleFormControlSelect1">Button Text</label>
                </div>
              </div>
            </form>
          </div>
          <div class="col-md-5">
            <h5 class="mt-5">2. Paste this code into your church website.</h5>
            <label
              >Include this anywhere in the
              <code class="simple">&lt;head&gt;</code> or
              <code class="simple">&lt;body&gt;</code>
              section.</label
            >
            <code
              id="code"
              style="width: 100%; display: block; background: #f9f9f9"
            >
              Loading...
            </code>

            <a href="#" class="btn btn-primary btn-block btn-lg mt-3" id="copy"
              ><i class="fas fa-clipboard"></i> Copy Code</a
            >
            <div id="hidden-copy-container"></div>
          </div>
          <div class="col-md-1"></div>
        </div>
      </div>
    </main>

    <div
      class="container"
      style="
        margin-top: 130px;
        margin-bottom: 130px;
        border-top: 1px solid #ddd;
        padding-top: 100px;
      "
    >
      <div class="row">
        <div class="col-md-2 text-center"></div>

        <div class="col-md-8 text-center">
          <h2 class="mt-5 text-center" style="font-size: 47px">
            With Livebar you can...
          </h2>
        </div>

        <div class="col-md-2 text-center"></div>
      </div>

      <div class="row">
        <div class="col-md-4 text-center">
          <div class="p-4">
            <img src="images/find-services.png" class="feature-image mt-5" />
            <h3 class="text-left">
              Help People Find Where You're Meeting Online
            </h3>
            <p class="feature-text lead">
              While there's great video platforms for sharing live and
              pre-recorded video, none of it matters if your church can't find
              where to go. Make it easy and clear for your visitors to know when
              and where to go.
            </p>
          </div>
        </div>

        <div class="col-md-4 text-center">
          <div class="p-4">
            <img src="images/any-platform.png" class="feature-image mt-5" />
            <h3 class="text-left">
              Use YouTube, Facebook, Zoom, Vimeo &amp; More
            </h3>
            <p class="feature-text lead">
              Use whatever video platform makes the most sense. Link to your
              YouTube Channel, a Facebook Page, a Zoom room, a Vimeo page,
              another page on your own church website, or anywhere else.
            </p>
          </div>
        </div>

        <div class="col-md-4 text-center">
          <div class="p-4">
            <img src="images/configuration.png" class="feature-image mt-5" />
            <h3 class="text-left">Customize Livebar however you desire</h3>
            <p class="feature-text lead">
              Change the color, content, layout, and timing of Livebar to fit
              the look and feel of your own church. Experiment by changing the
              options above and watch how Livebar on this page responds
              immediately.
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="col-md-2 text-center"></div>

        <div class="col-md-8 text-center">
          <div style="border-top: 1px solid #ddd; padding: 130px 0px">
            <!-- <img src="images/more-features.png" style="max-width: 200px; width: 100%;"> -->

            <i class="fab fa-github fa-10x"></i>

            <h2 class="mt-5 text-center" style="font-size: 47px">
              Looking for more features?
            </h2>

            <p
              class="lead subtitle text-center"
              style="
                border-bottom: none;
                width: 100%;
                max-width: 800px;
                margin: 0px auto;
              "
            >
              We built Livebar as a response to the COVID-19 pandemic as a way
              to help churches more quickly and easily communicate where they
              are gathering online. We'd love help adding onto it to serve
              churches even better! We've made the project open source so other
              developers can help build even more features.
            </p>

            <a
              href="https://github.com/BreezeChMS/livebar/"
              target="_blank"
              class="btn btn-primary btn-lg"
              >Developers - Help us Improve Livebar on Github</a
            >
          </div>
        </div>

        <div class="col-md-2 text-center"></div>
      </div>
    </div>

    <footer class="footer mt-auto py-3">
      <div class="container text-center">
        <span class="text-muted footer-text"
          >Made with <i class="fas fa-heart pink"></i> from
          <a href="https://www.breezechms.com" target="_blank">
            <img src="images/breeze-logo.png" class="breeze-logo" /> </a
        ></span>
      </div>
    </footer>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
      crossorigin="anonymous"
    ></script>

    <script>
      let settingsChanged = false;

      $(document).on('change', 'select', function (e) {
        settingsChanged = true;
        update_code();
      });

      $(document).on('change keyup', 'input', function (e) {
        settingsChanged = true;
        update_code();
      });

      function getLivebarValues() {
        let layout = $('#layout').val();
        let duration = $('#duration').val();
        let url = cleanInput($('#url').val());
        let message = cleanInput($('#message').val());
        let dateTime = $('#date-time').val();
        let dismissable = $('#dismissable').val();

        let additionalServices = [];
        $('.additional_service').each(function (idx) {
          additionalServices[idx] = {};
          additionalServices[idx]['dateTime'] = $(this)
            .find('.date-time')
            .val();
          additionalServices[idx]['duration'] = $(this).find('.duration').val();
        });

        let backgroundColor = $('#background-color').val();
        let buttonColor = $('#button-color').val();
        let textColor = $('#text-color').val();
        let buttonTextColor = $('#button-text-color').val();

        let dateTimeParts = dateTime.split('-');
        let day = dateTimeParts[0];
        let hours = dateTimeParts[1];
        let minutes = dateTimeParts[2];

        let values = {};

        values.layout = layout;
        values.url = url;
        values.message = message;
        values.dismissable = dismissable;

        values.day = day;
        values.hours = hours;
        values.minutes = minutes;
        values.duration = duration;

        values.additionalServices = additionalServices;

        values.backgroundColor = backgroundColor;
        values.buttonColor = buttonColor;
        values.textColor = textColor;
        values.buttonTextColor = buttonTextColor;

        return values;
      }

      let reloadTimeout;

      function update_code() {
        let livebarValues = getLivebarValues();

        let additionalServicesCode = '';
        let additionalServicesIndex = 2;
        livebarValues.additionalServices.map(function (service, idx) {
          let dateTimeParts = service.dateTime.split('-');
          let day = dateTimeParts[0];
          let hours = dateTimeParts[1];
          let minutes = dateTimeParts[2];

          additionalServicesCode += `
			<div class="tab">data-service-${additionalServicesIndex}-day-of-week="${day}"</div>
			<div class="tab">data-service-${additionalServicesIndex}-hours="${hours}"</div>
			<div class="tab">data-service-${additionalServicesIndex}-minutes="${minutes}"</div>
			<div class="tab">data-service-${additionalServicesIndex}-duration-minutes="${service.duration}"</div>
		`;

          additionalServicesIndex++;
        });

        let code = `
				&lt;script type="text/javascript"
				<div class="tab">src="https://livebar.church/livebar.js"</div>
				<div class="tab">data-layout="${livebarValues.layout}"</div>
				<div class="tab">data-background-color="${livebarValues.backgroundColor}"</div>
				<div class="tab">data-button-color="${livebarValues.buttonColor}"</div>
				<div class="tab">data-text-color="${livebarValues.textColor}"</div>
				<div class="tab">data-button-text-color="${livebarValues.buttonTextColor}"</div>
				<div class="tab">data-button-text="Watch Live in"</div>
				<div class="tab">data-header-text="${livebarValues.message}"</div>
				<div class="tab">data-service-1-day-of-week="${livebarValues.day}"</div>
				<div class="tab">data-service-1-hours="${livebarValues.hours}"</div>
				<div class="tab">data-service-1-minutes="${livebarValues.minutes}"</div>
				<div class="tab">data-service-1-duration-minutes="${
          livebarValues.duration
        }"</div>
				${additionalServicesCode}
				<div class="tab">data-dismissable="${livebarValues.dismissable}"</div>
				<div class="tab">data-live-url="${livebarValues.url}"</div>
				<div class="tab">data-timezone="${
          Intl.DateTimeFormat().resolvedOptions().timeZone
        }"</div>
				<div class="tab">&gt;&lt;/script&gt;</div>
				`;

        $('#code').html(code);

        // clear out previous request if still running
        if (reloadTimeout) {
          clearTimeout(reloadTimeout);
        }

        reloadTimeout = setTimeout(function () {
          reloadLivebar();
        }, 100);
      }

      $('#copy').on('click', function (e) {
        e.preventDefault();
        let button = $(this);

        copy($('#code'));

        $(button).html(
          '<i class="fas fa-thumbs-up"></i> Code has been copied!'
        );

        setTimeout(function () {
          $(button).html('<i class="fas fa-clipboard"></i> Copy Code');
        }, 3000);
      });

      $('#add_service').on('click', function (e) {
        e.preventDefault();
        const serviceContainer = $('#service_container');

        $(serviceContainer).append(`
		<div class="d-flex flex-row additional_service">
			<div class="form-group flex-fill">
				<label for="date-time">Service/Livestream Time</label>
				<select class="form-control date-time">
					<option value="0-7-0">Sundays at 7am</option>
					<option value="0-7-15">Sundays at 7:15am</option>
					<option value="0-7-30">Sundays at 7:30am</option>
					<option value="0-7-45">Sundays at 7:45am</option>
					<option value="0-8-0">Sundays at 8am</option>
					<option value="0-8-15">Sundays at 8:15am</option>
					<option value="0-8-30">Sundays at 8:30am</option>
					<option value="0-8-45">Sundays at 8:45am</option>
					<option value="0-9-0" selected>Sundays at 9am</option>
					<option value="0-9-15">Sundays at 9:15am</option>
					<option value="0-9-30">Sundays at 9:30am</option>
					<option value="0-9-45">Sundays at 9:45am</option>
					<option value="0-10-0">Sundays at 10am</option>
					<option value="0-10-15">Sundays at 10:15am</option>
					<option value="0-10-30">Sundays at 10:30am</option>
					<option value="0-10-45">Sundays at 10:45am</option>
					<option value="0-11-0">Sundays at 11am</option>
					<option value="0-11-15">Sundays at 11:15am</option>
					<option value="0-11-30">Sundays at 11:30am</option>
			    </select>
			</div>
			<div class="form-group flex-fill col-auto">
				<label for="duration">Service Duration</label>
				<select class="form-control duration">
					<option value="5">5 Minutes</option>
					<option value="10">10 Minutes</option>
					<option value="15">15 Minutes</option>
					<option value="20">20 Minutes</option>
					<option value="25">25 Minutes</option>
					<option value="30">30 Minutes</option>
					<option value="35">35 Minutes</option>
					<option value="40" selected>40 Minutes</option>
					<option value="45">45 Minutes</option>
					<option value="50">50 Minutes</option>
					<option value="55">55 Minutes</option>
					<option value="60">60 Minutes</option>
					<option value="65">65 Minutes</option>
					<option value="70">70 Minutes</option>
					<option value="75">75 Minutes</option>
					<option value="80">80 Minutes</option>
					<option value="85">85 Minutes</option>
					<option value="90">90 Minutes</option>
				</select>
			</div>

			<div class="form-group align-self-end">
				<a href="#" class="btn btn-link btn-block mt-3 delete-service" alt="Delete this service">
					<i class="fas fa-times"></i>
				</a>
			</div>
		</div>
	`);

        settingsChanged = true;
        update_code();
      });

      $(document).on('click', '.delete-service', function (e) {
        e.preventDefault();
        e.stopPropagation();
        e.stopImmediatePropagation();

        const deleteService = $(this);

        deleteService.parent().parent().remove();

        settingsChanged = true;
        update_code();
      });

      function reloadLivebar() {
        let livebarValues = getLivebarValues();

        // if already changed settings, don't show this anymore - the user understands
        if (settingsChanged == true) {
          $('#looksLikeThis').hide();
        }

        $('script#livebar').remove();
        $('.livebar_container').remove();

        let head = document.getElementsByTagName('head')[0];
        let script = document.createElement('script');
        script.src = './livebar.js';
        script.setAttribute('id', 'livebar');
        script.setAttribute('data-load-livebar-immediately', 'yes');
        script.setAttribute('data-layout', livebarValues.layout);
        script.setAttribute(
          'data-background-color',
          livebarValues.backgroundColor
        );
        script.setAttribute('data-button-color', livebarValues.buttonColor);
        script.setAttribute(
          'data-button-text-color',
          livebarValues.buttonTextColor
        );
        script.setAttribute('data-text-color', livebarValues.textColor);
        script.setAttribute('data-button-text', 'Watch Live in');
        script.setAttribute('data-header-text', livebarValues.message);
        script.setAttribute('data-service-1-day-of-week', livebarValues.day);
        script.setAttribute('data-service-1-hours', livebarValues.hours);
        script.setAttribute('data-service-1-minutes', livebarValues.minutes);
        script.setAttribute(
          'data-service-1-duration-minutes',
          livebarValues.duration
        );
        let additionalServicesIndex = 2;
        livebarValues.additionalServices.map(function (service, idx) {
          let dateTimeParts = service.dateTime.split('-');
          let day = dateTimeParts[0];
          let hours = dateTimeParts[1];
          let minutes = dateTimeParts[2];

          script.setAttribute(
            `data-service-${additionalServicesIndex}-day-of-week`,
            day
          );
          script.setAttribute(
            `data-service-${additionalServicesIndex}-hours`,
            hours
          );
          script.setAttribute(
            `data-service-${additionalServicesIndex}-minutes`,
            minutes
          );
          script.setAttribute(
            `data-service-${additionalServicesIndex}-duration-minutes`,
            service.duration
          );

          additionalServicesIndex++;
        });
        script.setAttribute('data-dismissable', livebarValues.dismissable);
        script.setAttribute(
          'data-timezone',
          Intl.DateTimeFormat().resolvedOptions().timeZone
        );
        head.appendChild(script);
      }

      function cleanInput(input) {
        // remove tags
        input = input.replace(/(<([^>]+)>)/gi, '');

        // remove single quotes
        input = input.replace(/'/g, '');

        // remove double quotes
        input = input.replace(/"/g, '');

        return input;
      }

      function copy(selector) {
        let $temp = $('<div>');
        $('#hidden-copy-container').append($temp);
        $temp
          .attr('contenteditable', true)
          .html($(selector).html())
          .select()
          .on('focus', function () {
            document.execCommand('selectAll', false, null);
          })
          .focus();
        document.execCommand('copy');
        $temp.remove();
      }

      update_code();
    </script>

    <script
      src="https://kit.fontawesome.com/4eb67263e2.js"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
